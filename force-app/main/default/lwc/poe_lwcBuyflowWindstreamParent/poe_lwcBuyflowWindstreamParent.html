<template>
    <div class="slds-p-vertical_medium">
        <c-poe_lwc-progress-indicator steps={buyflowSteps} current-step={currentStep}> </c-poe_lwc-progress-indicator>
    </div>
    <template lwc:if={showWindstreamInfoTab}>
        <c-poe_lwc-buyflow-windstream-info-tab
            record-id={recordId}
            logo={logo}
            origin={origin}
            is-guest-user={isGuestUser}
            selected-buy-flow={selectedBuyFlow}
            oncheckserviceability={handleCheckServiceability}
            onback={handleBack}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-windstream-info-tab>
    </template>
    <template lwc:if={showWindstreamProductsTab}>
        <c-poe_lwc-buyflow-windstream-products-tab
            record-id={recordId}
            user-id={userId}
            logo={logo}
            is-guest-user={isGuestUser}
            selected-buy-flow={selectedBuyFlow}
            origin={origin}
            selected={selectedProduct}
            client-info={clientInfo}
            onproductselection={handleProductSelection}
            onback={handleBack}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-windstream-products-tab>
    </template>
    <template lwc:if={showWindstreamAddersTab}>
        <c-poe_lwc-buyflow-windstream-adders-tab
            cart-info={cartProducts}
            record-id={recordId}
            is-guest-user={isGuestUser}
            disclaimers={orderInfo.disclaimers}
            selected-buy-flow={selectedBuyFlow}
            adder-selection={adderSelection}
            adders={orderInfo.adders}
            bundle-id={orderInfo.bundleId}
            has-auto-pay={hasAutoPay}
            is-bundle={orderInfo.hasPhone}
            speed={orderInfo.selectedHsiSpeed}
            user-id={userId}
            logo={logo}
            origin={origin}
            onadderselection={handleAddersSelection}
            onback={handleBack}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-windstream-adders-tab>
    </template>
    <template lwc:if={showWindstreamCreditCheckTab}>
        <c-poe_lwc-buyflow-windstream-credit-check-tab
            cart-info={cartInfo}
            cart={cartAdders}
            pre-qualified={preQualified}
            selected-buy-flow={selectedBuyFlow}
            record-id={recordId}
            is-guest-user={isGuestUser}
            logo={logo}
            has-auto-pay={hasAutoPay}
            portability-data={portabilityData}
            portability={portability}
            offer-id={offerId}
            fake-s-s-n-limit={fakeSSNLimit}
            origin={origin}
            adder-selection={adderSelection}
            contact-info={clientInfo.contactInfo}
            selected-product={selectedProduct}
            address-info={clientInfo.addressInfo}
            address-api={clientInfo.selectedAddressInfo}
            credit-check-limit-offer-id={creditCheckLimitOfferId}
            referral-code-data={referralCodeData}
            additional-info={additionalInfo}
            oncreditcheckpassed={handleCreditCheckPassed}
            onback={handleBack}
            onlogerror={handleLogError}
            onsetproductstep={handleSetProductStep}
            oncreditcheckattempt={handleCreditCheckAttempt}
        ></c-poe_lwc-buyflow-windstream-credit-check-tab>
    </template>
    <template lwc:if={showWindstreamCartTab}>
        <c-poe_lwc-buyflow-windstream-cart-tab
            record-id={recordId}
            logo={logo}
            is-guest-user={isGuestUser}
            cart-info={cartCredit}
            selected-buy-flow={selectedBuyFlow}
            origin={origin}
            oncartnext={handleCartNext}
            onback={handleBack}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-windstream-cart-tab>
    </template>
    <template lwc:if={showWindstreamCheckoutTab}>
        <c-poe_lwc-buyflow-windstream-checkout-tab
            record-id={recordId}
            logo={logo}
            is-guest-user={isGuestUser}
            offer-id={offerId}
            cart={cartCredit}
            selected-buy-flow={selectedBuyFlow}
            pre-qualified={preQualified}
            has-auto-pay={hasAutoPay}
            forced-auto-pay={forcedAutoPay}
            decision-changed={autoPayChanged}
            adder-selection={adderSelection}
            disclaimers={orderInfo.disclaimers}
            reference-number={referenceNumber}
            client-info={clientInfo}
            origin={origin}
            oncreditcardvalidated={handleCheckoutNext}
            onback={handleBack}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-windstream-checkout-tab>
    </template>
    <template lwc:if={showWindstreamTPVTab}>
        <c-poe_lwc-buyflow-windstream-t-p-v-tab
            record-id={recordId}
            offer-id={offerId}
            is-guest-user={isGuestUser}
            order-info={orderInfo}
            reference-number={referenceNumber}
            client-info={clientInfo}
            selected-buy-flow={selectedBuyFlow}
            origin={origin}
            date-selected={dateSelected}
            logo={logo}
            skip-install-date-selection={skipInstallDateSelection}
            portability={portability}
            credit-check-response-verbiage={creditCheckResponseVerbiage}
            additional-info={additionalInfo}
            ontpvnext={handleTPVNext}
            onback={handleBack}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-windstream-t-p-v-tab>
    </template>
    <template lwc:if={showWindstreamTermsTab}>
        <c-poe_lwc-buyflow-windstream-terms-tab
            record-id={recordId}
            applicable-disclaimers={applicableDisclaimers}
            is-guest-user={isGuestUser}
            logo={logo}
            onback={handleBack}
            ontermsnext={handleTermsNext}
        ></c-poe_lwc-buyflow-windstream-terms-tab>
    </template>
    <template lwc:if={showWindstreamOrderConfirmationTab}>
        <c-poe_lwc-buyflow-windstream-order-confirmation-tab
            record-id={recordId}
            logo={logo}
            is-guest-user={isGuestUser}
            sf-order={sfOrder}
            sf-order-item={sfOrderItem}
            cart-info={cartCheckout}
            origin={origin}
            selected-buy-flow={selectedBuyFlow}
            no-installation={noInstallation}
            shipping={shippingCost}
            user-id={userId}
            callout-info={confirmationCallout}
            onorderconfirmationnext={handleOrderConfirmationNext}
            onback={handleBack}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-windstream-order-confirmation-tab>
    </template>
    <template lwc:if={showWindstreamOrderSuccessTab}>
        <c-poe_lwc-buyflow-windstream-order-success-tab
            order-number={orderNumber}
            skip-install-date-selection={skipInstallDateSelection}
            review-copper={copperDropReview}
            skip-installation={skipInstallation}
            is-guest-user={isGuestUser}
            review-phone-number={reviewPhoneNumber}
            order-id={orderId}
            order-info={orderInfo}
            record-id={recordId}
            email={clientInfo.contactInfo.email}
            phone={clientInfo.contactInfo.phone}
            reference-number={referenceNumber}
            credit-check-response-verbiage={creditCheckResponseVerbiage}
            origin={origin}
            client-info={clientInfo}
            onback={handleBack}
            offer-id={offerId}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-windstream-order-success-tab>
    </template>
    <template lwc:if={showLoaderSpinner}>
        <lightning-spinner variant="brand" alternative-text="Loading..." size="medium"></lightning-spinner>
    </template>
</template>