<template>
    <div class="slds-p-vertical_medium">
        <c-poe_lwc-progress-indicator steps={buyflowSteps} current-step={currentStep}> </c-poe_lwc-progress-indicator>
    </div>
    <template lwc:if={showFrontierInfoTab}>
        <c-poe_lwc-buyflow-frontier-info-tab
            record-id={recordId}
            client-info={clientInfo}
            logo={logo}
            origin={origin}
            is-guest-user={isGuestUser}
            oncheckserviceability={handleCheckServiceability}
            onback={handleBack}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-frontier-info-tab>
    </template>
    <template lwc:if={showFrontierProductsTab}>
        <c-poe_lwc-buyflow-frontier-products-tab
            record-id={recordId}
            user-id={userId}
            agent-id={agentId}
            logo={logo}
            origin={origin}
            selected={selectedProduct}
            client-info={clientInfo}
            frontier-user-id={frontierUserId}
            is-guest-user={isGuestUser}
            onproductselection={handleProductSelection}
            onconfigurationsendproducts={handleConfigProducts}
            onback={handleBack}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-frontier-products-tab>
    </template>
    <template lwc:if={showFrontierCreditCheckTab}>
        <c-poe_lwc-buyflow-frontier-credit-check-tab
            record-id={recordId}
            logo={logo}
            origin={origin}
            cart-info={cartInfo}
            account-id={accountId}
            paper-bill={paperBill}
            contact-info={clientInfo.contactInfo}
            address-info={clientInfo.addressInfo}
            account-info={clientInfo.accountInfo}
            onauto={handleAutoPay}
            product-selected={productSelected}
            onebill={handleEBill}
            account-uuid={accountUuid}
            quote-id={quoteId}
            frontier-user-id={frontierUserId}
            is-guest-user={isGuestUser}
            referral-code-data={referralCodeData}
            oncreditcheckpassed={handleCreditCheckPassed}
            onback={handleBack}
            onaddressinfoupdate={handleAddressInfoUpdate}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-frontier-credit-check-tab>
    </template>
    <template lwc:if={showFrontierConfigurationsTab}>
        <c-poe_lwc-buyflow-frontier-configurations-tab
            record-id={recordId}
            user-id={userId}
            logo={logo}
            origin={origin}
            cart-info={creditCheckCart}
            customer-info={creditCheckCallout.customer}
            account-id={accountUuid}
            product-info={productInfo}
            e-bill={eBill}
            auto-pay={autoPay}
            client-phone={clientInfo.contactInfo.phone}
            email={clientInfo.contactInfo.email}
            address-info={clientInfo.address}
            quote-id={quoteId}
            add-on-products={addOnProducts}
            voice-products={voiceProducts}
            manual-credit-check={manualCreditCheck}
            frontier-secure-products={frontierSecureProducts}
            frontier-user-id={frontierUserId}
            is-guest-user={isGuestUser}
            onconfigselection={handleConfigSelection}
            onback={handleBack}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-frontier-configurations-tab>
    </template>
    <template lwc:if={showFrontierTPVTab}>
        <c-poe_lwc-buyflow-frontier-installation-tab
            record-id={recordId}
            cart={configurationsCart}
            origin={origin}
            customer={clientInfo}
            time-zone={timeZone}
            logo={logo}
            quote-id={quoteId}
            frontier-user-id={frontierUserId}
            installation-options={installationOptions}
            is-guest-user={isGuestUser}
            quote-number={quoteNumber}
            customer-t-n={reservedTN}
            onnext={handleTPVNext}
            onback={handleBack}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-frontier-installation-tab>
    </template>
    <template lwc:if={showFrontierCheckoutTab}>
        <c-poe_lwc-buyflow-frontier-checkout-tab
            record-id={recordId}
            logo={logo}
            client-info={clientInfo}
            cart={configurationsCart}
            payment-attempts={paymentAttempts}
            account-id={accountUuid}
            reference-number={referenceNumber}
            reserved={reservedTN}
            origin={origin}
            e-bill={eBill}
            auto-pay={autoPay}
            auto-pay-node={autoPayNode}
            auto-pay-discounts={autoPayDiscounts}
            portable-number={portableNumber}
            quote-id={quoteId}
            frontier-user-id={frontierUserId}
            is-guest-user={isGuestUser}
            quote-number={quoteNumber}
            oncreditcardvalidated={handleCheckoutNext}
            onback={handleBack}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-frontier-checkout-tab>
    </template>
    <template lwc:if={showFrontierOrderConfirmationTab}>
        <c-poe_lwc-buyflow-frontier-order-confirmation-tab
            record-id={recordId}
            logo={logo}
            origin={origin}
            preview={preview}
            account-id={accountUuid}
            quote-id={quoteId}
            frontier-user-id={frontierUserId}
            is-guest-user={isGuestUser}
            quote-number={quoteNumber}
            customer-t-n={reservedTN}
            onnext={handleOrderConfirmationNext}
            onback={handleBack}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-frontier-order-confirmation-tab>
    </template>
    <template lwc:if={showFrontierTermsTab}>
        <c-poe_lwc-buyflow-frontier-terms-tab
            record-id={recordId}
            logo={logo}
            user-id={userId}
            origin={origin}
            terms={terms}
            sf-order-id={sfOrderId}
            order-item-id={orderItemId}
            account-id={accountUuid}
            quote-id={quoteId}
            cart-info={configurationsCart}
            installation-date={installationDate}
            earliest-date={earliestDate}
            frontier-user-id={frontierUserId}
            is-guest-user={isGuestUser}
            quote-number={quoteNumber}
            customer-t-n={reservedTN}
            onnext={handleTermsNext}
            onback={handleBack}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-frontier-terms-tab>
    </template>
    <template lwc:if={showFrontierCSATab}>
        <c-poe_lwc-buyflow-frontier-c-s-a-tab
            client-info={clientInfo}
            origin={origin}
            record-id={recordId}
            reserved-t-n={reservedTN}
            btn={btn}
            cart-info={configurationsCart}
            onback={handleBack}
            onlogerror={handleLogError}
            onnext={handleCSANext}
        ></c-poe_lwc-buyflow-frontier-c-s-a-tab>
    </template>
    <template lwc:if={showFrontierOrderSuccessTab}>
        <c-poe_lwc-buyflow-frontier-order-success-tab
            btn={btn}
            quote-number={quoteNumber}
            order-number={orderNumber}
            record-id={recordId}
            email={clientInfo.contactInfo.email}
            phone={clientInfo.contactInfo.phone}
            origin={origin}
            client-info={clientInfo}
            is-guest-user={isGuestUser}
            onback={handleBack}
            onlogerror={handleLogError}
        ></c-poe_lwc-buyflow-frontier-order-success-tab>
    </template>
    <template lwc:if={showLoaderSpinner}>
        <lightning-spinner variant="brand" alternative-text="Loading..." size="medium"></lightning-spinner>
    </template>
</template>